<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>날씨 기반 옷추천</title>
    <script type="text/javascript"
            th:src="@{https://oapi.map.naver.com/openapi/v3/maps.js(ncpClientId=${clientId})}"></script>
    <link rel="stylesheet" type="text/css" href="/css/home.css">
    <link rel="stylesheet" type="text/css" href="/css/naversearch.css">


</head>
<body>
<th:block th:replace="~{fragments/header :: header}"></th:block>

<div class="container">
    <h4 class="mt-3 mb-3 text-center">오늘의 날씨</h4>
    <div id="weather-info" class="mb-3">
        <div class="row" style="display: flex; justify-content: space-between;">
            <span style="display: flex; justify-content: space-between; align-items: center;">
                <h4 id="location" style="margin: 0;"></h4>
                <span>
                    <p id="base-date" class="text-end" style="margin: 0;"></p>
                    <a href="#" id="current-location-link">내위치</a>
                </span>
            </span>
        </div>

        <div class="row">
            <div id="t1h-icon" class="col-auto"></div>
            <div class="col">
                <div class="row">
                    <div class="col-auto">
                        <h1 id="t1h-value"></h1>
                    </div>
                    <div class="col">
                        <ul id="weather-list"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-3">
            시간대별 날씨
            <div id="six-hour-weather-list" class="box weather-container">
                <!-- 시간대 별로 날씨 정보 동적으로 생성되도록 -->
            </div>
        </div>
        <div class="mt-3">
            주간(오전/오후) 날씨 예보
            <div id="weekly-land-weather" class="box weather-container">
                <!-- 시간대 별로 날씨 정보 동적으로 생성되도록 -->
            </div>
            <div id="weekly-ta-weather" class="box weather-container">
                <!-- 시간대 별로 날씨 정보 동적으로 생성되도록 -->
            </div>
        </div>
        <div class="text-center mt-3">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                지역 검색
            </button>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">지역 검색</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- 주소 검색창 -->
                <div class="input-group mb-3">
                    <input type="text" id="search-location" class="form-control" placeholder="주소를 입력하세요">
                    <button class="btn btn-primary" type="button" id="search-weather">검색</button>
                </div>
                <!-- 검색 결과 -->
                <div id="search-result" class="list-group mb-3">
                    <!-- 검색 결과가 여기에 동적으로 추가됩니다 -->
                </div>
                <!-- 지도 -->
                <div id="map" style="width:100%;height: 300px;" class="mb-3"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-primary">저장</button>
            </div>
        </div>
    </div>
</div>

<h4 class="mt-3 mb-3 text-center">코디 추천: 반팔 티셔츠</h4>


<div id="image-container">
    <!-- Thymeleaf를 사용하여 모델의 images를 동적으로 렌더링 -->
    <div class="image-container">
        <div th:each="item, iterStat : ${items}">
            <input type="hidden" class="category1" th:value="${item.category1}">
            <input type="hidden" class="category2" th:value="${item.category2}">
            <input type="hidden" class="category3" th:value="${item.category3}">
            <input type="hidden" class="category4" th:value="${item.category4}">
            <input type="hidden" class="query" th:value="${query}">
            <img th:src="${item.image}" alt="Image" onclick="rateImage(this)">
        </div>
    </div>
</div>
<!-- 왼쪽에 클릭한 이미지를 보여주는 컨테이너 -->
<div id="copied-image-container">

</div>
<script th:src="@{/js/naversearch.js}"></script>
<script th:src="@{/js/weather-info.js}"></script>
<script th:src="@{/js/weather-news.js}"></script>
<script th:src="@{/js/region-search.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>
</html>